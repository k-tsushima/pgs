% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
\documentclass[runningheads]{llncs}
%
\usepackage{graphicx}
\usepackage{color}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{tabularx}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{lmodern}
\usepackage{pgffor}
\usepackage{schemata}

% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
% \renewcommand\UrlFont{\color{blue}\rmfamily}
\usetikzlibrary{matrix}
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=newest}

\setlength{\parindent}{0pt}
\renewcommand{\indent}{\hspace*{0pt}}

\newcommand{\tab}{\hspace*{3mm}}
\newcommand{\tabs}[1]{\foreach \n in {1,...,#1}{\tab}}
\newcommand{\qtab}{\hspace*{3mm} \ \quad}
\newcommand{\qtabs}[1]{\foreach \n in {1,...,#1}{\qtab}}

\newcommand{\sif}[3]{\text{if } #1 \text{ then } #2 \text{ else } #3}
\newcommand{\product}[2]{#1 \times #2}
\newcommand{\tuple}[2]{(#1 :: #2)}
\newcommand{\rearrs}[3]{RearrS \ #1 \ #2 \ #3}
\newcommand{\rearrv}[3]{RearrV \ #1 \ #2 \ #3}
\newcommand{\casebx}[4]{Case \ #1 \ #2 \ #3 \ #4}

\newcommand{\putbx}[3]{put \, [\![#1]\!] \ #2 \ #3}
\newcommand{\putbxinline}[1]{put \, [\![#1]\!]}
\newcommand{\getbx}[2]{get \, [\![#1]\!] \ #2}
\newcommand{\getbxinline}[1]{get \, [\![#1]\!]}

\newcommand{\putm}[3]{put_m \, [\![#1]\!] \ #2 \ #3}
\newcommand{\putminline}[1]{put_m \, [\![#1]\!]}
\newcommand{\getm}[2]{get_m \, [\![#1]\!] \ #2}
\newcommand{\getminline}[1]{get_m \, [\![#1]\!]}

\newcommand{\getmh}[2]{get_{mh} \, [\![#1]\!] \ #2}
\newcommand{\getmhinline}[1]{get_{mh} \, [\![#1]\!]}

\newcommand{\putrev}[3]{put_{REV} \, [\![#1]\!] \ {#2} \ {#3}}
\newcommand{\getrev}[2]{get_{REV} \, [\![#1]\!] \ {#2}}

\newcommand{\pg}[3]{pg \, [\![#1]\!] (#2, #3)}
\newcommand{\pginline}[1]{pg \, [\![#1]\!]}

\newcommand{\cpg}[5]{cpg [\![#1]\!] (#2, #3, #4, #5)}
\newcommand{\cpginline}[1]{cpg \, [\![#1]\!]}

\newcommand{\kpg}[7]{kpg [\![#1]\!] (#2, #3, #4, #5, #6, #7)}
\newcommand{\kpginline}[1]{kpg \, [\![#1]\!]}

\newcommand{\xpg}[3]{xpg \, [\![#1]\!] (#2, #3)}
\newcommand{\xpginline}[1]{xpg \, [\![#1]\!]}

\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}

\begin{document}
%
\title{
  % Strategies for efficient composition of bidirectional programs
  % by memoization and lazy updates
  %  tupling
  %  accumulating updates = lazy updates
  %  based on the idea of reversible computing  
  % \thanks{Supported by organization x.}  
  An efficient composition of bidirectional programs
  by memoization and lazy update
}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%

%\author{{Kanae Tsushima\inst{1}\orcidID{0000-0002-3383-3389}} \and
%  {Bach-Trong Nguyen\inst{1}\orcidID{0000-0002-6342-6020}} \and
%  {Robert Gl\"{u}ck\inst{2}\orcidID{0000-0001-6990-3935}} \and
%  {Zhenjiang Hu\inst{3}\orcidID{0000-0002-9034-205X}}}

\author{anonymous authors}

%\authorrunning{K. Tsushima et al.}

\authorrunning{anonymous authors}

% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%

%\institute{National Institute of Informatics, Japan
%  \email{\{k\_tsushima,bach\}@nii.ac.jp} \and
%  University of Copenhagen, Denmark
%  \email{glueck@di.ku.dk } \and
%  Peking University, China
%  \email{huzj@pku.edu.cn}}

%\institute{anonymous}

%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
%The abstract should briefly summarize the contents of the paper in
%15--250 words.
 \input{0.abst.tex}
 % We show experimental results for several BX programs with simple inputs and large inputs. 


  %To achieve fast evaluation for complicated data, we introduced a novel approach. First, we make $put$ and $get$ more tight, based on the idea of tupling. Because simple tupled result includes redundancies for left associative compositions, we apply two optimization techniques: lazy update and lazy evaluation. We compare the approaches including the strategy used in the actual BX language, and show that our optimized approach is faster than the other approaches (?).

\keywords{Bidirectional transformation \and
  Implementation technique \and
  %Evaluation? \and
  Efficiency \and 
  Optimization \and Tupling.
  %\and Lazy update?
}
\end{abstract}
%
%
%

% plan to pages
% 1.abstraction & title & Introduction: 3pages
% 2.miniBiGUL: 1.5page
% 3.miniBiGUL_m : 1 page
% 4.xpg:5.5page
% 5.evaluation:2pages
% 6.related work:1page
% 7.conclusion:1page (including reference)
% page limit : 15


%\begin{itemize}
%\item FLOPS 2020, 15 November 2019 (AoE): Abstract submission
%\item 22 November 2019 (AoE): Submission deadline
%\item Today's agenda: introduction.
% result of 2nd approach, memory alloc result. introduction, contribution
%\end{itemize}

%Schedule
%\begin{itemize}
%\item Introduction (story), Contribution, positions, examples, beginning of September?
%\item zero draft : mid of September  
%\item deadline of PEPM2020 (October 18th)
%\item ESOP (October 24th)
%\end{itemize}

%Recent result/findings:
%\begin{itemize}
%\item miniBigul\_m becomes worse when the number of compositions is increased (in the case of Replace, pHead). Using some optimization to avoid comparison between BXs, it becomes faster, but it is still slower than original miniBiGUL.
%\item bmapreplace is a special case of miniBiGUL\_m. Why??
%\item miniBigul\_m is better for bmapreplace and breverse than other approaches.
%\item Compose(breverse, breverse): miniBiGUL can evaluate, but kpg can not. 
%\end{itemize}

%\begin{tabular}{c|c|c|c}
%  & 1st(miniBiGUL) & 2nd(memo\_miniBiGUL) & 3rd(kpg) \\ \hline
%  num of $get$s & linear to quadratic & linear & linear \\ \hline 
%  (storage) & (linear) & (linear to N(num of composition)) * (size(S)) & (max(size(S), size(S'))) \\ \hline
%  overhead & low & saving (BX, s) to table \& searching & keeping as functions
% \end{tabular}

%Time:
%\begin{itemize}
%\item Lassoc (comp\_replace \& comp\_phead): xpg $<$ miniBiGUL << miniBiGUL\_m (100x)
%\item Rassoc (comp\_replace \& comp\_phead): miniBiGUL $<$ xpg $<$ miniBiGUL\_m (1000x)
%\item breverse: miniBiGUL\_m << xpg (10x) << miniBiGUL(100x)
%\item bmapreplace: (miniBiGUL\_m <<) xpg << miniBiGUL (100x)
%\end{itemize}

%Memory allocation:
%\begin{itemize}
%\item Lassoc comp\_replace : miniBiGUL $<$ xpg $<$ miniBiGUL\_m
%\item Lassoc\& Rassoc comp\_phead: miniBiGUL\_m << miniBiGUL < xpg
%\item Rassoc comp\_replace: miniBiGUL < xpg < miniBiGUL\_m
%\item breverse: miniBiGUL\_m < xpg << miniBiGUL
%\item bmapreplace xpg << miniBiGUL 
%\end{itemize}

%\begin{itemize}
%\item Rassoc $\to$ miniBiGUL
%\item 
%\end{itemize}


%\begin{itemize}
%\item BiGUL 
%\item pg (pair of put and get)
%\item cpg (extention of pg. Keep eval information for reusing)
%\item kpg (extention of cpg. Lazy evaluation)
%\item xpg (combination of pg and kpg)
%\item Experiment
%\item Related work
%\item Conclusion and Future work
%\end{itemize}

\input{1.introduction.tex}

\input{2.minbigul.tex}

\input{3.minbigul_m.tex}

\input{4.xpg.tex}

\input{5.experiments.tex}

\input{6.related-work.tex}

\input{7.conclusion.tex}

\textcolor{red}{TODO: fix references (order, contents), add missing references}

% From sample code
% 
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
% \bibliographystyle{splncs04}
% \bibliography{mybibliography}
%

\tiny

\begin{thebibliography}{8}
\bibitem{viewupdate}
F. Bancilhon and N. Spyratos. ``Update semantics of relational views''. ACM Transactions on Database Systems, 6(4):557--575, 1981.

\bibitem{BXcomp}
Anthony Anjorin, Thomas Buchmann, Bernhard Westfechtel, Zinovy Diskin, Hsiang-Shang Ko, Romina Eramo, Georg Hinkel, Leila Samimi-Dehkordi, and Albert Zündorf
``Benchmarking bidirectional transformations: Theory, implementation, application, and assessment'', Software and Systems Modeling, ??, 2019

\bibitem{tupling}
  M. Fokkinga. ``Tupling and mutumorphisms''. Squiggolist, 1(4), 1989.

\bibitem{josh_pepm}
  Hsiang-Shang Ko, Tao Zan, Zhenjiang Hu, BiGUL: A Formally Verified Core Language for Putback-Based Bidirectional Programming, ACM SIGPLAN 2016 Workshop on Partial Evaluation and Program Manipulation (PEPM 2016), pp.61--72, 2016.

\bibitem{josh_popl}
  Hsiang-Shang Ko, Zhenjiang Hu, An Axiomatic Basis for Bidirectional Programming , 45th ACM SIGPLAN Symposium on Principles of Programming Languages (POPL 2018), 2018.

\bibitem{BXtend}
  Thomas Buchmann. BXtend -- a framework for (bidirectional) model transformations. In Slimane Hamoudi,Luis Ferreira Pires, and Bran Selic, editors, Proceedings
of the 6th International Conference on Model-Driven Engineering and Software Development - Volume 1: MODELSWARD (MODELSWARD 2018), pages 336--345, 2018.

\bibitem{eMoflon}
  Erhan Leblebici, Anthony Anjorin, and Andy Sch"{u}rr. Developing eMoflon with eMoflon. In Davide Di Ruscio and Daniel Varro, editors, Theory and Practice of Model Transformations - 7th International Conference, ICMT 2014, Held as Part of STAF 2014, York, UK, 2014. Proceedings, volume 8568 of Lecture Notes in
Computer Science, pages 138–145. Springer, 2014.

\bibitem{EVL+Strace}
Leila Samimi-Dehkordi, Bahman Zamani, and Shekoufeh Kolahdouz-Rahimi. EVL+Strace: A novel bidirectional transformation approach. Information and Software
Technology, 100:47--72, 2018.

\bibitem{JTL}
Antonio Cicchetti, Davide Di Ruscio, Romina Eramo, and Alfonso Pierantonio. JTL: A bidirectional and change propagating transformation language. In Brian Malloy, Steffen Staab, and Mark van den Brand, editors, Proceedings of the Third International Conference on Software Language Engineering (SLE 2010), volume 6563 of Lecture Notes of Computer Science, pages 183--202, Springer-Verlag.
  
\bibitem{NMF}
Georg Hinkel and Erik Burger. Change propagation and bidirectionality in internal transformation DSLs. Soft-ware and Systems Modeling, 18(1):249--278, 2019.

  
\bibitem{SDMLib}
  SDMLib paper?

\bibitem{lenses}
  Lense papers?

\bibitem{tutorial}
  Tutorial paper of BiGUL

\bibitem{putget}
  H. Pacheco, Z. Hu, and S. Fischer. Monadic combinators for “putback” style bidirectional programming. In Partial Evaluation and Program Manipulation, pages 39–50. ACM, 2014.

\bibitem{putput}
  
  
%\bibitem{ref_article1}
%Author, F.: Article title. Journal \textbf{2}(5), 99--110 (2016)

%\bibitem{ref_lncs_1}
%Author, F., Author, S.: Title of a proceedings paper. In: Editor,
%F., Editor, S. (eds.) CONFERENCE 2016, LNCS, vol. 9999, pp. 1--13.
%Springer, Heidelberg (2016). \doi{10.10007/1234567890}

%\bibitem{ref_book1}
%Author, F., Author, S., Author, T.: Book title. 2nd edn. Publisher,
%Location (1999)

%\bibitem{ref_proc1}
%Author, A.-B.: Contribution title. In: 9th International Proceedings
%on Proceedings, pp. 1--2. Publisher, Location (2010)

%\bibitem{ref_url1}
%LNCS Homepage, \url{http://www.springer.com/lncs}. Last accessed 4
%Oct 2017
\end{thebibliography}

% \input{appendix.tex}

\end{document}







\subsubsection{Sample Heading (Third Level)} Only two levels of
headings should be numbered. Lower level headings remain unnumbered;
they are formatted as run-in headings.

\paragraph{Sample Heading (Fourth Level)}
The contribution should contain no more than four levels of
headings. Table~\ref{tab1} gives a summary of all heading levels.

\begin{table}
\caption{Table captions should be placed above the
tables.}\label{tab1}
\begin{tabular}{|l|l|l|}
\hline
Heading level &  Example & Font size and style\\
\hline
Title (centered) &  {\Large\bfseries Lecture Notes} & 14 point, bold\\
1st-level heading &  {\large\bfseries 1 Introduction} & 12 point, bold\\
2nd-level heading & {\bfseries 2.1 Printing Area} & 10 point, bold\\
3rd-level heading & {\bfseries Run-in Heading in Bold.} Text follows & 10 point, bold\\
4th-level heading & {\itshape Lowest Level Heading.} Text follows & 10 point, italic\\
\hline
\end{tabular}
\end{table}


\noindent Displayed equations are centered and set on a separate
line.
\begin{equation}
x + y = z
\end{equation}
Please try to avoid rasterized images for line-art diagrams and
schemas. Whenever possible, use vector graphics instead (see
Fig.~\ref{fig_1}).

\begin{figure}
\includegraphics[width=\textwidth]{fig_1.eps}
\caption{A figure caption is always placed below the illustration.
Please note that short captions are centered, while long ones are
justified by the macro package automatically.} \label{fig_1}
\end{figure}

\begin{theorem}
This is a sample theorem. The run-in heading is set in bold, while
the following text appears in italics. Definitions, lemmas,
propositions, and corollaries are styled the same way.
\end{theorem}
%
% the environments 'definition', 'lemma', 'proposition', 'corollary',
% 'remark', and 'example' are defined in the LLNCS documentclass as well.
%
\begin{proof}
Proofs, examples, and remarks have the initial word in italics,
while the following text appears in normal font.
\end{proof}
For citations of references, we prefer the use of square brackets
and consecutive numbers. Citations using labels or the author/year
convention are also acceptable. The following bibliography provides
a sample reference list with entries for journal
articles~\cite{ref_article1}, an LNCS chapter~\cite{ref_lncs_1}, a
book~\cite{ref_book1}, proceedings without editors~\cite{ref_proc1},
and a homepage~\cite{ref_url1}. Multiple citations are grouped
\cite{ref_article1,ref_lncs_1,ref_book1},
\cite{ref_article1,ref_book1,ref_proc1,ref_url1}.
%
